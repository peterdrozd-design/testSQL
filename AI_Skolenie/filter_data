import pandas as pd
import pandasai as pai
from pandasai import Agent
from pandasai_litellm.litellm import LiteLLM
import os

llm = LiteLLM(model="gpt-4.1-mini", api_key=os.getenv("OPENAI_API_KEY"))
pai.config.set({"llm": llm})

df = pd.DataFrame({
    'employee': ['Alice', 'Bob', 'Charlie', 'Diana'],
    'department': ['Sales', 'IT', 'Sales', 'HR'],
    'salary': [75000, 85000, 70000, 65000],
    'years': [5, 3, 7, 2]
})

agent = Agent(df)

response = agent.chat("Show me employees in Sales with more than 5 years")
print(response)